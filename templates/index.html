<!doctype html>
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> 
<title>Hello from Flask</title>
{% if name %}
  <h1>Hello {{ name }}!</h1>
{% else %}
  <h1>Hello World!</h1>
{% endif %}
<script src="/js/jquery.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
<script>

function highlight(text)
{
    inputText = document.getElementById("inputText")
    var innerHTML = inputText.innerHTML
    var index = innerHTML.indexOf(text);
    if ( index >= 0 )
    { 
        innerHTML = innerHTML.substring(0,index) + "<span class='highlight'>" + innerHTML.substring(index,index+text.length) + "</span>" + innerHTML.substring(index + text.length);
        inputText.innerHTML = innerHTML 
    }

}


$(document).ready(function() {
         
           $("#uploadform").submit(function(event) {
                      event.preventDefault();
                     var data = new FormData(this);
                     console.log(data);
                   $.ajax({
                       type        : "POST",
                       url         : "/",
                       data        : data,
                       contentType : false,
                       processData : false
                       }).done(function (data) {
                            console.log(data);
                       });
            });

           $("#addfiles").click(function(){
            var num = $("#fileuploads input").length;
            num =  parseInt(num)
            var html_string = $("#fileuploads").html()
            for (i = num+1 ; i <= num+2 ; i++) {
                n = i.toString();
                html_string+= "<br><input type='file' class='form-control' name='file"+n+"'>";
                console.log(html_string);
            }            
                $("#fileuploads").html(html_string);
           });

});

</script>

<button onclick="highlight('fox')">Highlight</button>

<style>
.highlight
{
background-color:yellow;
}
</style>

<div id="inputText">
The fox went over the fence
</div>
 <button class="btn" id="addfiles"> Upload more files </button>

    <form method="post" id="uploadform">
            <label for="inputPassword">Upload</label>
            <div id="fileuploads">
            <input type="file" class="form-control" id="uploadfile" name="file1">
            </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>






